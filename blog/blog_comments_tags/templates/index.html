{% extends "base.html" %}

{% block title %}Главная - Блог с комментариями и тегами{% endblock %}

{% block content %}
    <h1>Список статей</h1>
    {% for post in posts %}
    <article class="post">
        <h2>
            <a href="{{ url_for('post_detail', post_id=post.id) }}">
                {{ post.title }}
            </a>
        </h2>
        <p class="meta">{{ post.created.strftime('%d.%m.%Y %H:%M') }}</p>
        <p>
            {% for tag in post.tags %}
                <span class="tag">{{ tag.name }}</span>
            {% endfor %}
        </p>
        <p>{{ post.content[:200] }}{% if post.content|length > 200 %}...{% endif %}</p>
    </article>
    {% else %}
        <p>Нет статей.</p>
    {% endfor %}
{% endblock %}
